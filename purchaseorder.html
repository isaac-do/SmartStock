<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Purchase Orders | SmartStock ERP</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="topbar">
        <div class="titletext"><strong>SmartStock ERP</strong></div>
        <nav class="topnav">
            <a href="index.html">Dashboard</a>
            <a href="inventory.html">Inventory</a>
            <a href="purchaseorder.html">Purchase Orders</a>
            <a href="transferorder.html">Transfer Orders</a>
            <a href="management.html">Management</a>
        </nav>
    </header>

    <div class="dashboard">
        <h1>Purchase Orders</h1>
        <div class="actions">
            <button class="btn" onclick="showCreateForm()">Create Purchase Order</button>
            <input type="text" id="searchInput" placeholder="Search PO ID" />
            <button class="btn" onclick="">Search</button>
        </div>

        <!-- This is the PO create form-->
        <div id="createForm" class="toggle-form">
            <h2>Create New Purchase Order</h2>
            <label for="po_id">PO ID</label>
            <input type="text" id="po_id" name="po_id" />

            <label for="po_customer">Customer ID</label>
            <input type="text" id="po_customer" name="po_customer" />

            <label for="order_id">Order ID</label>
            <input type="text" id="order_id" name="order_id" />

            <label for="delivery_date">Est. Delivery Date</label>
            <input type="date" id="delivery_date" name="delivery_date" />

            <label for="quantity">Quantity</label>
            <input type="number" id="quantity" name="quantity" />

            <label for="status">Status</label>
            <input type="text" id="status" name="status" />

            <button class="btn" onclick="alert('PO Created.')">Create</button>
        </div>
        <!-- This is the PO edit form-->
        <div id="editForm" class="modal-overlay">
            <div class="modal-content">
                <h2>Edit Purchase Order</h2>
                <div class="form-group">
                    <label>PO ID</label>
                    <input type="text" id="edit_po_id" name="edit_po_id" disabled />
                </div>
                <div class="form-group">
                    <label>Customer ID</label>
                    <input type="text" id="edit_po_customer" name="edit_po_customer" />
                </div>
                <div class="form-group">
                    <label>Order ID</label>
                    <input type="text" id="edit_order_id" name="edit_order_id" disabled/>
                </div>
                <div class="form-group">
                    <label>Estimated Delivery Date</label>
                    <input type="date" id="edit_delivery_date" name="edit_delivery_date" />
                </div>
                <div class="form-group">
                    <label>Quantity</label>
                    <input type="number" id="edit_quantity" name="edit_quantity" />
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <input type="text" id="edit_status" name="edit_status" />
                </div>
                <button class="btn" onclick="alert('Changes saved.')">Save Changes</button>
                <button class="btn btn-secondary" onclick="closeEditForm()">Cancel</button>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>PO ID</th>
                    <th>Customer ID</th>
                    <th>Order ID</th>
                    <th>Est. Delivery Date</th>
                    <th>Quantity</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <!--Temporary data. Will need to implement PHP to pull from database.-->
            <tbody id="poTable">
                <tr>
                    <td>PO345</td>
                    <td>CUST001</td>
                    <td>ORD345</td>
                    <td>04-28-2025</td>
                    <td>250</td>
                    <td>Pending Fulfillment</td>
                    <td class="actions-row">
                        <button class="btn"
                            onclick="showEditForm('PO345', 'CUST001', 'ORD345', '2025-04-28', '250', 'Pending Fulfillment')">Edit</button>
                        <button class="btn">Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>PO789</td>
                    <td>CUST002</td>
                    <td>ORD789</td>
                    <td>04-01-2025</td>
                    <td>750</td>
                    <td>Shipped</td>
                    <td class="actions-row">
                        <button class="btn"
                            onclick="showEditForm('PO789', 'CUST002', 'ORD789', '2025-04-01', '750', 'Shipped')">Edit</button>
                        <button class="btn">Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>PO111</td>
                    <td>CUST002</td>
                    <td>ORD111</td>
                    <td>04-01-2025</td>
                    <td>400</td>
                    <td>Received</td>
                    <td class="actions-row">
                        <button class="btn"
                            onclick="showEditForm('PO111', 'CUST003', 'ORD111', '2025-04-01', '400', 'Received')">Edit</button>
                        <button class="btn">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        function showCreateForm() {
            const form = document.getElementById('createForm');
            form.style.display = form.style.display === 'block' ? 'none' : 'block';
            document.getElementById('editForm').style.display = 'none';
        }

        function showEditForm(po_id, po_customer, order_id, delivery_date, quantity, status) {
            document.getElementById('edit_po_id').value = po_id;
            document.getElementById('edit_po_customer').value = po_customer;
            document.getElementById('edit_order_id').value = order_id;
            document.getElementById('edit_delivery_date').value = delivery_date;
            document.getElementById('edit_quantity').value = quantity;
            document.getElementById('edit_status').value = status;
            document.getElementById('editForm').style.display = 'flex';
        }

        function closeEditForm() {
            document.getElementById('editForm').style.display = 'none';
        }
    </script>
</body>

</html>